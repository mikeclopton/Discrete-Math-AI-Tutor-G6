<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX Formatter</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }

        h1 {
            text-align: center;
            font-size: 24px;
        }

        .instructions {
            background-color: #f9f9f9;
            padding: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #007bff;
        }

        #latex-input {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            box-sizing: border-box;
            resize: none;
            overflow: hidden;
        }

        #output {
            margin-top: 20px;
            padding: 10px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
        }

        #result {
            margin-top: 10px;
            font-size: 16px;
            color: green;
        }
    </style>
</head>
<body>

    <h1>LaTeX Formatter</h1>

    <div class="instructions">
        <h2>Instructions:</h2>
        <p>Enter your LaTeX math expression in the text area below. The LaTeX code will be automatically formatted and displayed below the input field. Ensure that your LaTeX syntax is correct before submitting.</p>
    </div>
    
    <textarea id="latex-input" rows="3" placeholder="Input Latex code..."></textarea>

    <div id="output"></div>

    <div id="result"></div>

    <script>
        const questionDisplay = document.getElementById('question-display');
        const latexInput = document.getElementById('latex-input');
        const output = document.getElementById('output');
        const result = document.getElementById('result');

        function adjustHeight() {
            latexInput.style.height = 'auto';
            latexInput.style.height = latexInput.scrollHeight + 'px';
        }

        function handleInput() {
            adjustHeight();
            const latexCode = latexInput.value;
            output.innerHTML = `\\[${latexCode}\\]`;
            MathJax.typesetPromise();
        }

        latexInput.addEventListener('input', handleInput);

        function normalizeLatex(latexString) {
            return latexString
                .replace(/\s+/g, '')
                .replace(/[\u00A0]/g, '')
                .trim();
        }

        latexInput.addEventListener('input', handleInput);
    </script>

</body>
</html>
